<head>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <script src="/script/app.js"></script>
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.js"></script>
    <link rel = "stylesheet" type = "text/css" href = "/css/style.css">
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.6.1/mapbox-gl.css" rel="stylesheet" />
    <style>
        #map { position: center; top: 15%; bottom: 0; width: 60%; height: 75%;};
    </style>
</head>
<body>

    <div id="map" class="col s12 l6">

    <script>
        mapboxgl.accessToken = '<%= mapkey %>';
        var map = new mapboxgl.Map({
            container: 'map', // container id
            style: 'mapbox://styles/mapbox/streets-v11', // stylesheet location
            center: [-122.3321, 47.6062], // starting position [lng, lat]
            zoom: 7 // starting zoom
        });
        
        map.on('load', function(markers){
            markers.forEach(marker => {
                map.addLayer({
                    id: 'path',
                    type: 'circle',
                    source: {
                        type: 'geojson',
                        data: {
                            type: 'Feature',
                            features: marker.geometry.coordinates
                        }
                    }
                })
            })
        })
    </script>
    </div>
</body>